Feature: Simple Test # features/test_simple.feature:1
  As a developer
  I want to test the BDD setup
  So that I can verify everything works
  @smoke
  Scenario: Simple test scenario        # features/test_simple.feature:7
    Given the application is running    # features/steps/authentication_steps.py:11
    Then I should see a success message # features/steps/email_verification_steps.py:155

Feature: Password Reset # features/authentication/password_reset.feature:1
  As a user who forgot their password
  I want to reset my password using my email
  So that I can regain access to my account
  Feature: Password Reset  # features/authentication/password_reset.feature:1

  @smoke @api
  Scenario: Successful password reset flow                                        # features/authentication/password_reset.feature:12
    Given the application is running                                              # features/steps/authentication_steps.py:11
    And the database is clean                                                     # features/steps/authentication_steps.py:19
    And a user with email "test@example.com" and password "oldpassword123" exists # features/steps/authentication_steps.py:39
    Given I am on the login page                                                  # features/steps/authentication_steps.py:33
    When I click "Forgot Password"                                                # features/steps/authentication_steps.py:373
    And I enter my email for password reset "test@example.com"                    # features/steps/authentication_steps.py:379
    And I submit the forgot password form                                         # features/steps/authentication_steps.py:385
    Then I should receive a password reset email                                  # features/steps/authentication_steps.py:392
    And I should see a success message                                            # features/steps/email_verification_steps.py:155

  @smoke @api
  Scenario: Reset password with valid code                                        # features/authentication/password_reset.feature:21
    Given the application is running                                              # features/steps/authentication_steps.py:11
    And the database is clean                                                     # features/steps/authentication_steps.py:19
    And a user with email "test@example.com" and password "oldpassword123" exists # features/steps/authentication_steps.py:39
    Given I have a valid password reset code for "test@example.com"               # features/steps/authentication_steps.py:399
    When I navigate to the reset password page with the code                      # features/steps/authentication_steps.py:455
    And I enter a new password "newpassword123"                                   # features/steps/authentication_steps.py:464
    And I confirm the new password "newpassword123"                               # features/steps/authentication_steps.py:470
    And I submit the reset password form                                          # features/steps/authentication_steps.py:476
    Then my password should be reset successfully                                 # features/steps/authentication_steps.py:486
    And I should be able to login with the new password                           # features/steps/authentication_steps.py:493

  @smoke @api
  Scenario: Reset password with invalid code                                      # features/authentication/password_reset.feature:31
    Given the application is running                                              # features/steps/authentication_steps.py:11
    And the database is clean                                                     # features/steps/authentication_steps.py:19
    And a user with email "test@example.com" and password "oldpassword123" exists # features/steps/authentication_steps.py:39
    Given I have an invalid password reset code                                   # features/steps/authentication_steps.py:422
    When I navigate to the reset password page with the code                      # features/steps/authentication_steps.py:455
    Then I should see an error message about invalid code                         # features/steps/authentication_steps.py:505

  @smoke @api
  Scenario: Reset password with expired code                                      # features/authentication/password_reset.feature:37
    Given the application is running                                              # features/steps/authentication_steps.py:11
    And the database is clean                                                     # features/steps/authentication_steps.py:19
    And a user with email "test@example.com" and password "oldpassword123" exists # features/steps/authentication_steps.py:39
    Given I have an expired password reset code for "test@example.com"            # features/steps/authentication_steps.py:428
    When I navigate to the reset password page with the code                      # features/steps/authentication_steps.py:455
    Then I should see an error message about expired code                         # features/steps/authentication_steps.py:512

Feature: User Login # features/authentication/user_login.feature:1
  As a registered user
  I want to log in to my account
  So that I can access my prayer tracking features
  Feature: User Login  # features/authentication/user_login.feature:1

  @smoke @api
  Scenario: Successful login with username and password                            # features/authentication/user_login.feature:11
    Given the application is running                                               # features/steps/authentication_steps.py:11
    And a user with email "testuser@example.com" and password "password123" exists # features/steps/authentication_steps.py:39
    Given I am on the login page                                                   # features/steps/authentication_steps.py:33
    When I enter email "testuser@example.com"                                      # features/steps/authentication_steps.py:156
    And I enter password "password123"                                             # features/steps/authentication_steps.py:170
    And I click the login button with email                                        # features/steps/authentication_steps.py:177
    Then I should be logged in successfully                                        # features/steps/authentication_steps.py:281
    And I should be redirected to the prayers page                                 # features/steps/authentication_steps.py:286
    And I should see my user profile information                                   # features/steps/authentication_steps.py:293

  @api
  Scenario: Login with OTP                                                         # features/authentication/user_login.feature:21
    Given the application is running                                               # None
    And a user with email "testuser@example.com" and password "password123" exists # None
    Given I am on the login page                                                   # None
    When I switch to OTP login tab                                                 # None
    And I enter my email "testuser@example.com"                                    # None
    And I click "Send Code"                                                        # None
    Then I should receive an OTP code via email                                    # None
    When I enter the OTP code                                                      # None
    And I click "Login with Code"                                                  # None

  @api
  Scenario: Failed login with incorrect password                                   # features/authentication/user_login.feature:33
    Given the application is running                                               # None
    And a user with email "testuser@example.com" and password "password123" exists # None
    Given I am on the login page                                                   # None
    When I enter email "testuser@example.com"                                      # None
    And I enter password "wrongpassword"                                           # None
    And I click the login button with email                                        # None
    Then I should see an error message "Invalid email or password"                 # None
    And I should not be logged in                                                  # None

  @api
  Scenario: Failed login with non-existent username                                # features/authentication/user_login.feature:42
    Given the application is running                                               # None
    And a user with email "testuser@example.com" and password "password123" exists # None
    Given I am on the login page                                                   # None
    When I enter username "nonexistent"                                            # None
    And I enter password "password123"                                             # None
    And I click the login button with username                                     # None
    Then I should see an error message "Invalid email or password"                 # None
    And I should not be logged in                                                  # None

  @api
  Scenario: Login with invalid OTP                                                 # features/authentication/user_login.feature:51
    Given the application is running                                               # None
    And a user with email "testuser@example.com" and password "password123" exists # None
    Given I am on the login page                                                   # None
    And I have an invalid OTP code "123" and email: "testuser@example.com"         # None
    When I enter the invalid OTP code                                              # None
    And I click "Login with Code"                                                  # None
    Then I should see an error message "Invalid verification code"                 # None

  @ui
  Scenario: Login form validation                                                  # features/authentication/user_login.feature:59
    Given the application is running                                               # None
    And a user with email "testuser@example.com" and password "password123" exists # None
    Given I am on the login page                                                   # None
    When I leave the username field empty                                          # None
    And I try to submit the form                                                   # None
    Then I should see a validation error for the username field                    # None
    And the form should not be submitted                                           # None

Feature: User Registration # features/authentication/user_registration.feature:1
  As a new user
  I want to register for an account
  So that I can track my prayers and receive reminders
  Feature: User Registration  # features/authentication/user_registration.feature:1

  @smoke @api
  Scenario: Successful user registration                 # features/authentication/user_registration.feature:11
    Given the application is running                     # features/steps/authentication_steps.py:11
    And the database is clean                            # features/steps/authentication_steps.py:19
    Given I am on the registration page                  # features/steps/authentication_steps.py:27
    When I fill in the registration form with:           # features/steps/authentication_steps.py:127
      | Field      | Value             |
      | username   | testuser123       |
      | email      | test@example.com  |
      | password   | securepassword123 |
      | first_name | Test              |
      | last_name  | User              |
    And I submit the registration form                   # features/steps/authentication_steps.py:135
    Then I should be registered successfully             # features/steps/authentication_steps.py:232
    And I should receive a confirmation message          # features/steps/authentication_steps.py:240
    And I should be automatically logged in              # features/steps/authentication_steps.py:246
    And an email verification should be sent to my email # features/steps/authentication_steps.py:252

  @api
  Scenario: Registration with duplicate email                                # features/authentication/user_registration.feature:27
    Given the application is running                                         # None
    And the database is clean                                                # None
    Given a user with email "existing@example.com" already exists            # None
    When I try to register with email "existing@example.com"                 # None
    Then I should see an error message "User with this email already exists" # None
    And I should not be registered                                           # None

  @api
  Scenario: Registration with invalid email format                # features/authentication/user_registration.feature:34
    Given the application is running                              # None
    And the database is clean                                     # None
    When I try to register with email "invalid-email"             # None
    Then I should see an error message about invalid email format # None

  @api
  Scenario: Registration with weak password                        # features/authentication/user_registration.feature:39
    Given the application is running                               # None
    And the database is clean                                      # None
    When I try to register with password "123"                     # None
    Then I should see an error message about password requirements # None
    And I should not be registered                                 # None

  @api
  Scenario: Registration with missing required fields                   # features/authentication/user_registration.feature:45
    Given the application is running                                    # None
    And the database is clean                                           # None
    When I submit the registration form without filling required fields # None
    Then I should see error messages for missing fields                 # None
    And I should not be registered                                      # None

Feature: Dashboard Statistics # features/dashboard/dashboard_statistics.feature:1
  As a logged-in user
  I want to view my prayer statistics
  So that I can track my prayer consistency and progress
  Feature: Dashboard Statistics  # features/dashboard/dashboard_statistics.feature:1

  @smoke @api @matrix @comprehensive
  Scenario Outline: Statistics for 2 days with mixed completion states -- @1.1 Prayer States Matrix  # features/dashboard/dashboard_statistics.feature:26
    Given the application is running                                                                 # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2025-01-01 03:00      # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 20:00"                  # features/steps/prayer_matrix_steps.py:13
    And I am completing prayers as qada at time "2025-06-22 20:00"                                   # features/steps/api_steps.py:68
    And I am completing prayers at time "2025-06-22 20:00"                                           # features/steps/api_steps.py:56
    And I am checking the prayer times of "2025-06-22" at time "2025-06-22 20:00"                    # features/steps/prayer_matrix_steps.py:13
    And I am completing prayers as qada at time "2025-06-22 20:00"                                   # features/steps/api_steps.py:68
    And I am completing prayers at time "2025-06-22 20:00"                                           # features/steps/api_steps.py:56
    When the page loads                                                                              # features/steps/dashboard_steps.py:46
    Then I should see my prayer completion statistics                                                # features/steps/dashboard_steps.py:184
    And the overall statistics should be accurate                                                    # features/steps/dashboard_steps.py:192
    And the daily statistics should be accurate                                                      # features/steps/dashboard_steps.py:219
    And the prayer-specific statistics should be accurate                                            # features/steps/dashboard_steps.py:255

Feature: Email Verification # features/email_verification/email_verification.feature:1
  As a registered user
  I want to verify my email address
  So that I can receive prayer reminders and notifications
  Feature: Email Verification  # features/email_verification/email_verification.feature:1
Feature: Prayer Reminders # features/notifications/prayer_reminders.feature:1
  As a registered user
  I want to receive prayer reminders
  So that I don't miss my prayers
  Feature: Prayer Reminders  # features/notifications/prayer_reminders.feature:1

  @smoke @api
  Scenario: Receive prayer reminder before prayer time  # features/notifications/prayer_reminders.feature:12
    Given the application is running                    # features/steps/authentication_steps.py:11
    And I am a registered user with verified email      # features/steps/authentication_steps.py:109
    And I have set my prayer reminder preferences       # features/steps/dashboard_steps.py:17
    Given it is 10 minutes before Dhuhr prayer time     # features/steps/notification_steps.py:20
    When the reminder system runs                       # features/steps/notification_steps.py:122
    Then I should receive a prayer reminder email       # features/steps/notification_steps.py:182

  @api
  Scenario: Receive prayer reminder for missed prayer  # features/notifications/prayer_reminders.feature:20
    Given the application is running                   # None
    And I am a registered user with verified email     # None
    And I have set my prayer reminder preferences      # None
    Given the Dhuhr prayer time has passed             # None
    And I have not completed the prayer                # None
    When the reminder system runs                      # None
    Then I should receive a missed prayer reminder     # None

  @api
  Scenario: Do not receive reminder for completed prayer  # features/notifications/prayer_reminders.feature:28
    Given the application is running                      # None
    And I am a registered user with verified email        # None
    And I have set my prayer reminder preferences         # None
    Given I have already completed the Dhuhr prayer       # None
    When the reminder system runs                         # None
    Then I should not receive a prayer reminder           # None

Feature: Prayer Completion # features/prayer_tracking/prayer_completion.feature:1
  As a logged-in user
  I want to mark my prayers as completed
  So that I can track my prayer consistency
  Feature: Prayer Completion  # features/prayer_tracking/prayer_completion.feature:1

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Prayer Completion -- @1.1 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:21
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 05:30"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Fajr" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then the prayer should be marked as "jamaat"                                                # features/steps/prayer_completion_steps.py:242
    When I mark the "Fajr" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Prayer Completion -- @1.2 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:22
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 13:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Dhuhr" prayer as completed                                                 # features/steps/time_based_prayer_steps.py:257
    Then the prayer should be marked as "jamaat"                                                # features/steps/prayer_completion_steps.py:242
    When I mark the "Dhuhr" prayer as completed                                                 # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Prayer Completion -- @1.3 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:23
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 16:30"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Asr" prayer as completed                                                   # features/steps/time_based_prayer_steps.py:257
    Then the prayer should be marked as "jamaat"                                                # features/steps/prayer_completion_steps.py:242
    When I mark the "Asr" prayer as completed                                                   # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Prayer Completion -- @1.4 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:24
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 19:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Maghrib" prayer as completed                                               # features/steps/time_based_prayer_steps.py:257
    Then the prayer should be marked as "jamaat"                                                # features/steps/prayer_completion_steps.py:242
    When I mark the "Maghrib" prayer as completed                                               # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Prayer Completion -- @1.5 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:25
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 21:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Isha" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then the prayer should be marked as "jamaat"                                                # features/steps/prayer_completion_steps.py:242
    When I mark the "Isha" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Valid Prayer Qada -- @1.1 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:37
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 07:30"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Fajr" prayer as qada                                                       # features/steps/time_based_prayer_steps.py:306
    Then the prayer should be marked as "qada"                                                  # features/steps/prayer_completion_steps.py:242
    When I mark the "Fajr" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Valid Prayer Qada -- @1.2 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:38
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 16:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Dhuhr" prayer as qada                                                      # features/steps/time_based_prayer_steps.py:306
    Then the prayer should be marked as "qada"                                                  # features/steps/prayer_completion_steps.py:242
    When I mark the "Dhuhr" prayer as completed                                                 # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Valid Prayer Qada -- @1.3 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:39
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 19:30"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Asr" prayer as qada                                                        # features/steps/time_based_prayer_steps.py:306
    Then the prayer should be marked as "qada"                                                  # features/steps/prayer_completion_steps.py:242
    When I mark the "Asr" prayer as completed                                                   # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Valid Prayer Qada -- @1.4 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:40
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 21:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Maghrib" prayer as qada                                                    # features/steps/time_based_prayer_steps.py:306
    Then the prayer should be marked as "qada"                                                  # features/steps/prayer_completion_steps.py:242
    When I mark the "Maghrib" prayer as completed                                               # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Valid Prayer Qada -- @1.5 Prayer States Matrix                         # features/prayer_tracking/prayer_completion.feature:41
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 21:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Isha" prayer as qada                                                       # features/steps/time_based_prayer_steps.py:306
    Then the prayer should be marked as "qada"                                                  # features/steps/prayer_completion_steps.py:242
    When I mark the "Isha" prayer as completed                                                  # features/steps/time_based_prayer_steps.py:257
    Then I should see an error message "Prayer already completed"                               # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Invalid Prayer Qada -- @1.1 Prayer States Matrix                       # features/prayer_tracking/prayer_completion.feature:53
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 07:30"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Dhuhr" prayer as qada                                                      # features/steps/time_based_prayer_steps.py:306
    Then I should see an error message "Can not mark as Qada"                                   # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Invalid Prayer Qada -- @1.2 Prayer States Matrix                       # features/prayer_tracking/prayer_completion.feature:54
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 16:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Asr" prayer as qada                                                        # features/steps/time_based_prayer_steps.py:306
    Then I should see an error message "Can not mark as Qada"                                   # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Invalid Prayer Qada -- @1.3 Prayer States Matrix                       # features/prayer_tracking/prayer_completion.feature:55
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 19:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Maghrib" prayer as qada                                                    # features/steps/time_based_prayer_steps.py:306
    Then I should see an error message "Can not mark as Qada"                                   # features/steps/authentication_steps.py:258

  @smoke @api @matrix @comprehensive
  Scenario Outline: Mark Invalid Prayer Qada -- @1.4 Prayer States Matrix                       # features/prayer_tracking/prayer_completion.feature:56
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 21:00"             # features/steps/prayer_matrix_steps.py:13
    When I mark the "Isha" prayer as qada                                                       # features/steps/time_based_prayer_steps.py:306
    Then I should see an error message "Can not mark as Qada"                                   # features/steps/authentication_steps.py:258

Feature: Prayer State Matrix - Comprehensive Date and Time Validation # features/prayer_tracking/prayer_state_matrix.feature:1
  As a Muslim user
  I want to validate prayer states across different dates and times
  So that I can ensure accurate prayer tracking in all scenarios
  Feature: Prayer State Matrix - Comprehensive Date and Time Validation  # features/prayer_tracking/prayer_state_matrix.feature:1

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.1 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:23
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-20 04:30"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "future" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "future" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "future" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.2 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:24
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 05:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "ongoing" state                                           # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "future" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "future" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.3 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:25
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 07:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "future" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "future" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.4 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:26
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 13:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "ongoing" state                                           # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "future" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.5 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:27
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 14:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "ongoing" state                                           # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "future" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.6 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:28
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 16:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "ongoing" state                                             # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.7 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:29
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 17:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "ongoing" state                                             # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.8 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:30
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 18:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "future" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.9 Prayer States Matrix                 # features/prayer_tracking/prayer_state_matrix.feature:31
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 19:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "ongoing" state                                         # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "future" state                                             # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.10 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:32
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 20:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.11 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:33
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 21:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.12 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:34
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 22:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.13 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:35
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-21 23:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.14 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:36
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 00:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.15 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:37
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 01:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.16 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:38
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 02:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.17 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:39
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 03:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "ongoing" state                                            # features/steps/time_based_prayer_steps.py:120

  @smoke @api @matrix @comprehensive
  Scenario Outline: Prayer state validation matrix -- @1.18 Prayer States Matrix                # features/prayer_tracking/prayer_state_matrix.feature:40
    Given the application is running                                                            # features/steps/authentication_steps.py:11
    Given I am logged in as a user with timezone "Asia/Kolkata" and created_at 2020-01-01 03:00 # features/steps/time_based_prayer_steps.py:36
    Given I am checking the prayer times of "2025-06-21" at time "2025-06-22 04:00"             # features/steps/prayer_matrix_steps.py:13
    Then the Fajr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Dhuhr prayer should be in "missed" state                                            # features/steps/time_based_prayer_steps.py:120
    And the Asr prayer should be in "missed" state                                              # features/steps/time_based_prayer_steps.py:120
    And the Maghrib prayer should be in "missed" state                                          # features/steps/time_based_prayer_steps.py:120
    And the Isha prayer should be in "missed" state                                             # features/steps/time_based_prayer_steps.py:120

